# Port 21 - FTP

### FTP Basics

> The **File Transfer Protocol \(FTP**\) is a standard network protocol used for the transfer of computer files between a client and server on a computer network.   It is a **plain-text** protocol that uses as **new line character `0x0d 0x0a`** so it's important to **connect using telnet** instead of nc.

**Default Port:** 21

```shell
PORT   STATE SERVICE
21/tcp open  ftp
```


## Enumeration

### Banner Grabbing


### Configuration Files
```shell 
ftpusers
ftp.conf
proftpd.conf
```

## Vulnerability Assessment



## Download Files 



## FTP Commands

* `USER username`
* `PASS password`
* `HELP` The server indicates which commands are supported
* `PORT 127,0,0,1,0,80`This will indicate the FTP server to establish a connection with the IP 127.0.0.1 in port 80 \(_you need to put the 5th char as "0" and the 6th as the port in decimal or use the 5th and 6th to express the port in hex_\).
* `EPRT |2|127.0.0.1|80|`This will indicate the FTP server to establish a TCP connection \(_indicated by "2"_\) with the IP 127.0.0.1 in port 80. This command **supports IPv6**.
* `LIST` This will send the list of files in current folder
* `APPE /path/something.txt` This will indicate the FTP to store the data received from a **passive** connection or from a **PORT/EPRT** connection to a file. If the filename exists, it will append the data.
* `STOR /path/something.txt` Like `APPE` but it will overwrite the files
* `STOU /path/something.txt` Like `APPE`, but if exists it won't do anything.
* `RETR /path/to/file` A passive or a port connection must be establish. Then, the FTP server will send the indicated file through that connection
* `REST 6` This will indicate the server that next time it send something using `RETR` it should start in the 6th byte.
* `TYPE i` Set transfer to binary
* `PASV` This will open a passive connection and will indicate the user were he can connects 





## Attacks



